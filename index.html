<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Molecular Dynamics Simulation</title>
        <style>
            body {
                margin: 0;
                background-color: black;
            }
            canvas#bevy {
                width: 100vw;
                height: 100vh;
            }
        </style>
    </head>
    <body>
        <canvas id="bevy"></canvas>

        <!-- JS Glue for LocalStorage -->
        <script>
            const SAVE_TIMESTAMP_KEY = "simulation_save_timestamp";
            function js_save_to_localstorage(key, value) {
                window.localStorage.setItem(key, value);
                window.localStorage.setItem(
                    SAVE_TIMESTAMP_KEY,
                    new Date().toISOString(),
                );
            }
            function js_load_from_localstorage(key) {
                return window.localStorage.getItem(key);
            }
            function js_get_save_timestamp() {
                return window.localStorage.getItem(SAVE_TIMESTAMP_KEY);
            }
        </script>

        <!-- JS Glue to disable right-click menu -->
        <script>
            const canvas = document.getElementById("bevy");
            canvas.addEventListener("contextmenu", (event) => {
                event.preventDefault();
            });
        </script>

        <!-- Main Bevy App Loader -->
        <script type="module">
            import init from "./molecular_dynamics.js";
            init();
        </script>
    </body>
</html>
